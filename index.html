<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Currency Exchange Simple 4UA â€” Support</title>

<style>
:root{
  --background:#FFFBFE;
  --surface:#FFFBFE;
  --surface-variant:#E7E0EC;
  --on-surface:#1C1B1F;
  --on-surface-variant:#49454F; /* RN Paper MD3 */
  --outline:#79747E;
}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  background:var(--background);
  color:var(--on-surface);
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:20px;
}

.container{
  width:100%;
  max-width:720px;
  background:var(--surface);
  border-radius:20px;
  padding:28px;
  box-shadow:0 8px 28px rgba(0,0,0,.08);
}

/* ðŸ”˜ Language Switch */
.lang-switch{
  display:flex;
  justify-content:flex-end;
  gap:8px;
  margin-bottom:14px;
}

.lang-switch button{
  border:1px solid var(--outline);
  background:transparent;
  padding:6px 12px;
  border-radius:999px;
  cursor:pointer;
  font-size:13px;
  color:var(--on-surface-variant);
  transition:.2s ease;
}

/* âœ… Active state (ÐºÐ°Ðº segmented control Ð² Material) */
.lang-switch button.active{
  background:var(--on-surface-variant);
  color:#fff;
  border-color:var(--on-surface-variant);
  box-shadow:0 2px 6px rgba(0,0,0,.15);
}

.lang-switch button:hover{
  opacity:.85;
}

h1{text-align:center;margin-bottom:6px;}
p.subtitle{text-align:center;color:var(--on-surface-variant);margin-bottom:24px;}

label{font-size:13px;color:var(--on-surface-variant);display:block;margin-bottom:6px;}
input,textarea{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:1px solid var(--outline);
  margin-bottom:14px;
  background:var(--surface-variant);
}

button.submit{
  width:100%;
  padding:14px;
  border:none;
  border-radius:14px;
  background:var(--on-surface-variant);
  color:#fff;
  font-size:16px;
  cursor:pointer;
  transition:.2s ease;
}

button.submit:hover{ opacity:.9; }

#status{text-align:center;margin-top:10px;color:var(--on-surface-variant);font-size:14px;}

.info{margin-top:20px;font-size:13px;color:var(--on-surface-variant);line-height:1.5;}
</style>
</head>

<body>
<div class="container">

  <div class="lang-switch">
    <button id="btn-en" onclick="setLang('en')">EN</button>
    <button id="btn-uk" onclick="setLang('uk')">UA</button>
  </div>

  <h1 data-i18n="headline"></h1>
  <p class="subtitle" data-i18n="subtitle"></p>

  <form id="form">
    <label data-i18n="name"></label>
    <input name="name"/>

    <label data-i18n="email"></label>
    <input name="email"/>

    <label data-i18n="message"></label>
    <textarea name="message" required></textarea>

    <button class="submit" type="submit" data-i18n="send"></button>
  </form>

  <div id="status"></div>

  <div class="info">
    <p data-i18n="tip"></p>
    <p data-i18n="about"></p>
    <p data-i18n="privacy"></p>
    <p data-i18n="hint"></p>
  </div>
</div>

<script>
const ENDPOINT = "https://formspree.io/f/mqedqnwz";
let dict = {};
let currentLang = localStorage.getItem("lang") || (navigator.language.startsWith("uk") ? "uk" : "en");

async function loadTranslations(){
  const res = await fetch("i18n.json");
  dict = await res.json();
  applyLang(currentLang);
}

function updateButtons(){
  document.getElementById("btn-en").classList.toggle("active", currentLang==="en");
  document.getElementById("btn-uk").classList.toggle("active", currentLang==="uk");
}

function applyLang(lang){
  currentLang = lang;
  localStorage.setItem("lang", lang);
  document.documentElement.lang = lang;

  document.querySelectorAll("[data-i18n]").forEach(el=>{
    const key = el.dataset.i18n;
    el.textContent = dict[lang][key];
  });

  updateButtons();
}

function setLang(lang){ applyLang(lang); }

document.getElementById("form").addEventListener("submit", async e=>{
  e.preventDefault();
  const status = document.getElementById("status");
  const form = e.target;
  const data = new FormData(form);

  if(!data.get("message").trim()){
    status.textContent = dict[currentLang].empty;
    return;
  }

  status.textContent = dict[currentLang].sending;

  const res = await fetch(ENDPOINT,{method:"POST",body:data,headers:{Accept:"application/json"}});
  status.textContent = res.ok ? dict[currentLang].sent : dict[currentLang].error;
  if(res.ok) form.reset();
});

loadTranslations();
</script>

</body>
</html>
